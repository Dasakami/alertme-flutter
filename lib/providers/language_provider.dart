import 'package:flutter/foundation.dart';

class LanguageProvider with ChangeNotifier {
  String _currentLanguage = 'ru';

  String get currentLanguage => _currentLanguage;
  bool get isRussian => _currentLanguage == 'ru';
  bool get isKyrgyz => _currentLanguage == 'kg';

  void setLanguage(String language) {
    if (language == 'ru' || language == 'kg') {
      _currentLanguage = language;
      notifyListeners();
    }
  }

  String translate(String key) {
    final translations = _translations[key];
    if (translations == null) return key;
    return translations[_currentLanguage] ?? key;
  }

  static const Map<String, Map<String, String>> _translations = {
    // Основные
    'app_name': {'ru': 'alertme', 'kg': 'alertme'},
    'welcome': {'ru': 'Добро пожаловать', 'kg': 'Кош келиңиз'},
    'yes': {'ru': 'Да', 'kg': 'Ооба'},
    'no': {'ru': 'Нет', 'kg': 'Жок'},
    'ok': {'ru': 'ОК', 'kg': 'Жарайт'},
    'error': {'ru': 'Ошибка', 'kg': 'Ката'},
    'success': {'ru': 'Успешно', 'kg': 'Ийгиликтүү'},
    'loading': {'ru': 'Загрузка...', 'kg': 'Жүктөлүүдө...'},
    
    // Онбординг
    'onboarding_title_1': {'ru': 'Ваша безопасность', 'kg': 'Сиздин коопсуздугуңуз'},
    'onboarding_desc_1': {'ru': 'Один жест - и помощь уже в пути', 'kg': 'Бир жест менен жардам жолдо'},
    'onboarding_title_2': {'ru': 'Доверенные контакты', 'kg': 'Ишенимдүү байланыштар'},
    'onboarding_desc_2': {'ru': 'Добавьте близких людей для экстренных случаев', 'kg': 'Өзгөчө учурлар үчүн жакындарыңызды кошуңуз'},
    'onboarding_title_3': {'ru': 'Всегда на связи', 'kg': 'Ар дайым байланышта'},
    'onboarding_desc_3': {'ru': 'Быстрое реагирование в любой ситуации', 'kg': 'Каалаган учурда тез жооп'},
    'get_started': {'ru': 'Начать', 'kg': 'Баштоо'},
    
    // Авторизация
    'phone_number': {'ru': 'Номер телефона', 'kg': 'Телефон номери'},
    'enter_phone': {'ru': 'Введите номер телефона', 'kg': 'Телефон номерин киргизиңиз'},
    'send_code': {'ru': 'Отправить код', 'kg': 'Код жөнөтүү'},
    'verify_code': {'ru': 'Введите код', 'kg': 'Кодду киргизиңиз'},
    'verification_sent': {'ru': 'Код отправлен на', 'kg': 'Код жөнөтүлдү'},
    'verify': {'ru': 'Подтвердить', 'kg': 'Ырастоо'},
    'sign_in': {'ru': 'Войти', 'kg': 'Кирүү'},
    'create_account': {'ru': 'Создать аккаунт', 'kg': 'Каттоо түзүү'},
    'welcome_back': {'ru': 'С возвращением!', 'kg': 'Кайрадан кош келиңиз!'},
    'password': {'ru': 'Пароль', 'kg': 'Сырсөз'},
    'confirm_password': {'ru': 'Подтвердите пароль', 'kg': 'Сырсөздү тастыктаңыз'},
    'continue': {'ru': 'Продолжить', 'kg': 'Улантуу'},
    
    // SOS
    'sos': {'ru': 'SOS', 'kg': 'SOS'},
    'hold_for_sos': {'ru': 'Удерживайте для SOS', 'kg': 'SOS үчүн кармап туруңуз'},
    'sos_activated': {'ru': 'SOS активирован', 'kg': 'SOS иштетилди'},
    'sending_alert': {'ru': 'Отправка сигнала...', 'kg': 'Сигнал жөнөтүлүүдө...'},
    'recording_audio': {'ru': 'Запись аудио', 'kg': 'Аудио жаздыруу'},
    'activate_sos_question': {'ru': 'Активировать SOS?', 'kg': 'SOS иштетилсинби?'},
    'will_be_sent': {'ru': 'Будет отправлено:', 'kg': 'Жөнөтүлөт:'},
    'sms_to_contacts': {'ru': 'SMS всем контактам', 'kg': 'Бардык байланыштарга SMS'},
    'email_with_media': {'ru': 'Email с медиа файлами', 'kg': 'Медиа файлдары менен Email'},
    'your_location': {'ru': 'Ваше местоположение', 'kg': 'Сиздин жайгашкан жериңиз'},
    'audio_recording': {'ru': 'Аудиозапись', 'kg': 'Аудио жаздыруу'},
    'activate': {'ru': 'АКТИВИРОВАТЬ', 'kg': 'ИШТЕТҮҮ'},
    'sos_active': {'ru': 'SOS активен', 'kg': 'SOS иштеп жатат'},
    'location_sent': {'ru': 'Местоположение отправлено', 'kg': 'Жайгашкан жер жөнөтүлдү'},
    'contacts_notified': {'ru': 'Уведомлено контактов:', 'kg': 'Билдирилген байланыштар:'},
    
    // Контакты
    'contacts': {'ru': 'Контакты', 'kg': 'Байланыштар'},
    'add_contact': {'ru': 'Добавить контакт', 'kg': 'Байланыш кошуу'},
    'emergency_contacts': {'ru': 'Экстренные контакты', 'kg': 'Өзгөчө учурдагы байланыштар'},
    'no_contacts': {'ru': 'Нет контактов', 'kg': 'Байланыштар жок'},
    'add_first_contact': {'ru': 'Добавьте первый контакт', 'kg': 'Биринчи байланышты кошуңуз'},
    'name': {'ru': 'Имя', 'kg': 'Аты'},
    'save': {'ru': 'Сохранить', 'kg': 'Сактоо'},
    'delete': {'ru': 'Удалить', 'kg': 'Өчүрүү'},
    'contact_limit_reached': {'ru': 'Достигнут лимит контактов', 'kg': 'Байланыштар лимити толду'},
    'upgrade_for_more': {'ru': 'Обновитесь до Premium для большего', 'kg': 'Көбүрөөк үчүн Premium чейин жаңыртыңыз'},
    'delete_contact_question': {'ru': 'Удалить контакт?', 'kg': 'Байланышты өчүрүүбү?'},
    'delete_contact_confirm': {'ru': 'Вы уверены, что хотите удалить', 'kg': 'Сиз чын эле өчүргүңүз келеби'},
    'primary_contact': {'ru': 'Основной контакт', 'kg': 'Негизги байланыш'},
    'primary_contact_desc': {'ru': 'Будет получать уведомления первым', 'kg': 'Биринчи билдирме алат'},
    'telegram_username': {'ru': 'Telegram Username (необязательно)', 'kg': 'Telegram колдонуучу аты (милдеттүү эмес)'},
    'telegram_hint': {'ru': 'Без @. Для SOS уведомлений', 'kg': '@сыз. SOS билдирмелери үчүн'},
    'telegram_info': {'ru': 'Если у контакта есть Telegram, SOS уведомления придут туда', 'kg': 'Эгер байланышта Telegram болсо, SOS билдирмелер ал жакка келет'},
    'email_optional': {'ru': 'Email (необязательно)', 'kg': 'Email (милдеттүү эмес)'},
    'relation_optional': {'ru': 'Отношение (необязательно)', 'kg': 'Мамиле (милдеттүү эмес)'},
    'relation_hint': {'ru': 'Друг, Родственник, Коллега', 'kg': 'Досу, Туугану, Кесиптеши'},
    'enter_name': {'ru': 'Введите имя', 'kg': 'Атын киргизиңиз'},
    'enter_number': {'ru': 'Введите номер', 'kg': 'Номерди киргизиңиз'},
    'invalid_format': {'ru': 'Неверный формат', 'kg': 'Туура эмес формат'},
    'min_5_chars': {'ru': 'Минимум 5 символов', 'kg': 'Минимум 5 белги'},
    'no_at_symbol': {'ru': 'Не указывайте @', 'kg': '@ коюнбасын'},
    'contact_added': {'ru': '✅ Контакт добавлен', 'kg': '✅ Байланыш кошулду'},
    'contact_exists': {'ru': 'Контакт с таким номером уже добавлен', 'kg': 'Мындай номер менен байланыш мурунтан бар'},
    'limit_reached': {'ru': 'Достигнут лимит контактов', 'kg': 'Байланыштар лимити толду'},
    'primary_set': {'ru': 'Основной контакт установлен', 'kg': 'Негизги байланыш коюлду'},
    'delete_error': {'ru': 'Ошибка удаления', 'kg': 'Өчүрүүдө ката'},
    'information': {'ru': 'Информация', 'kg': 'Маалымат'},
    'total_contacts': {'ru': 'Всего контактов:', 'kg': 'Бардыгы байланыштар:'},
    'limit': {'ru': 'Лимит:', 'kg': 'Лимит:'},
    'primary_contact_info': {'ru': 'Основной контакт будет получать уведомления первым.', 'kg': 'Негизги байланыш билдирмелерди биринчи алат.'},
    
    // Таймер
    'safety_timer': {'ru': 'Таймер безопасности', 'kg': 'Коопсуздук таймери'},
    'set_timer': {'ru': 'Установить таймер', 'kg': 'Таймерди коюу'},
    'timer_active': {'ru': 'Таймер активен', 'kg': 'Таймер иштеп жатат'},
    'minutes': {'ru': 'минут', 'kg': 'мүнөт'},
    'timer': {'ru': 'Таймер', 'kg': 'Таймер'},
    'cancel': {'ru': 'Отмена', 'kg': 'Жокко чыгаруу'},
    'start_timer': {'ru': 'Запустить таймер', 'kg': 'Таймерди иштетүү'},
    'timer_description': {'ru': 'Если вы не отмените таймер, автоматически отправится SOS', 'kg': 'Эгер таймерди жокко чыгарбасаңыз, автоматтык SOS жөнөтүлөт'},
    'quick_tests': {'ru': 'Быстрые тесты', 'kg': 'Тез тесттер'},
    'standard': {'ru': 'Стандартные', 'kg': 'Стандарттык'},
    'long_timers': {'ru': 'Длинные', 'kg': 'Узун'},
    'seconds': {'ru': 'сек', 'kg': 'сек'},
    'hour': {'ru': 'час', 'kg': 'саат'},
    'hours': {'ru': 'ч', 'kg': 'с'},
    'time_remaining': {'ru': 'Таймер истечёт через', 'kg': 'Таймер бүтөт'},
    'time_warning': {'ru': '⚠️ Осталось мало времени!', 'kg': '⚠️ Аз убакыт калды!'},
    'settings': {'ru': 'Настройки', 'kg': 'Жөндөөлөр'},
    'profile': {'ru': 'Профиль', 'kg': 'Профиль'},
    'language': {'ru': 'Язык', 'kg': 'Тил'},
    'subscription': {'ru': 'Подписка', 'kg': 'Жазылуу'},
    'notifications': {'ru': 'Уведомления', 'kg': 'Билдирмелер'},
    'logout': {'ru': 'Выйти', 'kg': 'Чыгуу'},
    'logout_question': {'ru': 'Выйти?', 'kg': 'Чыгуубу?'},
    'logout_confirm': {'ru': 'Вы уверены, что хотите выйти?', 'kg': 'Сиз чын эле чыгууну каалайсызбы?'},
    'edit_profile': {'ru': 'Редактировать профиль', 'kg': 'Профилди түзөтүү'},
    'first_name': {'ru': 'Имя', 'kg': 'Аты'},
    'last_name': {'ru': 'Фамилия', 'kg': 'Фамилиясы'},
    'email': {'ru': 'Email', 'kg': 'Email'},
    'profile_updated': {'ru': '✅ Профиль обновлен', 'kg': '✅ Профиль жаңыртылды'},
    'refresh': {'ru': 'Обновить', 'kg': 'Жаңыртуу'},
    'data_updated': {'ru': '✅ Данные обновлены', 'kg': '✅ Маалыматтар жаңыртылды'},
    'notifications_settings': {'ru': 'Настройка уведомлений', 'kg': 'Билдирмелерди жөндөө'},
    'free': {'ru': 'Бесплатно', 'kg': 'Акысыз'},
    'premium': {'ru': 'Premium', 'kg': 'Premium'},
    'upgrade_to_premium': {'ru': 'Обновить до Premium', 'kg': 'Premium чейин жаңыртуу'},
    'premium_features': {'ru': 'Возможности Premium', 'kg': 'Premium мүмкүнчүлүктөр'},
    'unlimited_contacts': {'ru': 'Неограниченные контакты', 'kg': 'Чексиз байланыштар'},
    'location_history': {'ru': 'История местоположений', 'kg': 'Жайгашкан жердин тарыхы'},
    'subscribe': {'ru': 'Оформить подписку', 'kg': 'Жазылуу'},
    'activate_code': {'ru': 'Активировать код из Telegram', 'kg': 'Telegram коддун иштетүү'},
    'extend_subscription': {'ru': 'Продлить подписку', 'kg': 'Жазылууну узартуу'},
    'premium_active': {'ru': '✨ Premium Активен', 'kg': '✨ Premium иштеп жатат'},
    'valid_until': {'ru': 'Действует до', 'kg': 'Күчүндө'},
    'days_remaining': {'ru': 'Осталось', 'kg': 'Калды'},
    'days': {'ru': 'дней', 'kg': 'күн'},
    'free_plan': {'ru': 'Free План', 'kg': 'Акысыз план'},
    'activate_premium': {'ru': 'Активируйте Premium для полного доступа', 'kg': 'Толук кирүү үчүн Premium иштетиңиз'},
    'premium_benefits': {'ru': 'Преимущества Premium:', 'kg': 'Premium артыкчылыктары:'},
    'unlimited_contacts_desc': {'ru': 'Добавляйте сколько угодно близких', 'kg': 'Каалагандай жакындарды кошуңуз'},
    'geozones': {'ru': 'Геозоны', 'kg': 'Геозоналар'},
    'geozones_desc': {'ru': 'Уведомления при входе/выходе из зон', 'kg': 'Зоналарга кирүүдө/чыгууда билдирмелер'},
    'location_history_desc': {'ru': 'Просмотр истории передвижений', 'kg': 'Жылуулардын тарыхын көрүү'},
    'telegram_sos': {'ru': 'SOS в Telegram', 'kg': 'Telegram\'дагы SOS'},
    'telegram_sos_desc': {'ru': 'Мгновенные уведомления в мессенджер', 'kg': 'Мессенджерге тез билдирмелер'},
    
    // Активация кода
    'activation': {'ru': 'Активация кода', 'kg': 'Коддун иштетүү'},
    'premium_activation': {'ru': 'Активация Premium', 'kg': 'Premium иштетүү'},
    'enter_code_from_bot': {'ru': 'Введите код из Telegram бота', 'kg': 'Telegram боттон коддун киргизиңиз'},
    'activation_code': {'ru': 'Код активации', 'kg': 'Иштетүү коду'},
    'how_to_get_code': {'ru': 'Как получить код?', 'kg': 'Кодду кантип алуу керек?'},
    'open_telegram': {'ru': 'Откройте Telegram', 'kg': 'Telegram ачыңыз'},
    'find_bot': {'ru': 'Найдите бот @AlertMePremiumBot', 'kg': '@AlertMePremiumBot ботун табыңыз'},
    'pay_with_stars': {'ru': 'Оплатите подписку звездами', 'kg': 'Жазылууну жылдыздар менен төлөңүз'},
    'copy_code': {'ru': 'Скопируйте полученный код', 'kg': 'Алынган кодду көчүрүңүз'},
    'paste_code': {'ru': 'Вставьте код в это поле', 'kg': 'Коду бул талаага чаптаңыз'},
    'premium_activated': {'ru': '✅ Premium подписка активирована!', 'kg': '✅ Premium жазылуу иштетилди!'},
    'activation_error': {'ru': 'Ошибка активации', 'kg': 'Иштетүүдө ката'},
    'enter_code': {'ru': 'Введите код', 'kg': 'Коду киргизиңиз'},
    'invalid_code_format': {'ru': 'Неверный формат кода', 'kg': 'Туура эмес код форматы'},
    
    // Уведомления
    'notification_types': {'ru': 'Типы уведомлений', 'kg': 'Билдирмелердин түрлөрү'},
    'sos_alerts': {'ru': 'SOS сигналы', 'kg': 'SOS сигналдары'},
    'sos_alerts_desc': {'ru': 'Уведомления об экстренных ситуациях', 'kg': 'Өзгөчө кырдаалдар жөнүндө билдирмелер'},
    'safety_timers': {'ru': 'Таймеры безопасности', 'kg': 'Коопсуздук таймерлери'},
    'safety_timers_desc': {'ru': 'Истечение таймеров активности', 'kg': 'Таймерлердин бүтүшү'},
    'geozone_alerts': {'ru': 'Геозоны', 'kg': 'Геозоналар'},
    'geozone_alerts_desc': {'ru': 'Вход/выход из безопасных зон', 'kg': 'Коопсуз зоналарга кирүү/чыгуу'},
    'notification_channels': {'ru': 'Каналы уведомлений', 'kg': 'Билдирмелер каналдары'},
    'push_notifications': {'ru': 'Push-уведомления', 'kg': 'Push билдирмелер'},
    'push_notifications_desc': {'ru': 'Уведомления в приложении', 'kg': 'Тиркемедеги билдирмелер'},
    'sms_notifications': {'ru': 'SMS уведомления', 'kg': 'SMS билдирмелер'},
    'sms_notifications_desc': {'ru': 'Отправка SMS экстренным контактам', 'kg': 'Өзгөчө байланыштарга SMS жөнөтүү'},
    'behavior': {'ru': 'Поведение', 'kg': 'Жүрүм-турум'},
    'sound': {'ru': 'Звук', 'kg': 'Үн'},
    'sound_desc': {'ru': 'Звуковые сигналы при уведомлениях', 'kg': 'Билдирмелерде үн сигналдары'},
    'vibration': {'ru': 'Вибрация', 'kg': 'Дирилдөө'},
    'vibration_desc': {'ru': 'Вибрация при уведомлениях', 'kg': 'Билдирмелерде дирилдөө'},
    'sos_always_sent': {'ru': 'SOS уведомления всегда отправляются вне зависимости от настроек', 'kg': 'SOS билдирмелер ар дайым жөнөтүлөт, жөндөөлөргө карабастан'},
    'send_test_notification': {'ru': 'Отправить тестовое уведомление', 'kg': 'Тест билдирме жөнөтүү'},
    'test_notification_sent': {'ru': 'Тестовое уведомление отправлено', 'kg': 'Тест билдирме жөнөтүлдү'},
    
    // Разрешения
    'permissions': {'ru': 'Разрешения', 'kg': 'Уруксаттар'},
    'permissions_required': {'ru': 'Для работы приложения необходимы следующие разрешения:', 'kg': 'Тиркеменин иштеши үчүн төмөнкү уруксаттар керек:'},
    'location': {'ru': 'Местоположение', 'kg': 'Жайгашкан жер'},
    'location_desc': {'ru': 'Для отправки вашего местоположения при SOS', 'kg': 'SOS учурунда сиздин жайгашкан жериңизди жөнөтүү үчүн'},
    'microphone': {'ru': 'Микрофон', 'kg': 'Микрофон'},
    'microphone_desc': {'ru': 'Для записи аудио при активации SOS', 'kg': 'SOS иштегенде аудио жаздыруу үчүн'},
    'phone': {'ru': 'Телефон', 'kg': 'Телефон'},
    'phone_desc': {'ru': 'Для звонков экстренным контактам', 'kg': 'Өзгөчө байланыштарга чалуу үчүн'},
    'sms': {'ru': 'SMS', 'kg': 'SMS'},
    'sms_desc': {'ru': 'Для отправки SMS уведомлений', 'kg': 'SMS билдирмелерди жөнөтүү үчүн'},
    'grant_permissions': {'ru': 'Предоставить разрешения', 'kg': 'Уруксаттарды берүү'},
    'skip': {'ru': 'Пропустить', 'kg': 'Өткөрүп жиберүү'},
    'required': {'ru': 'Обязательно', 'kg': 'Милдеттүү'},
    'permissions_needed': {'ru': 'Необходимы разрешения', 'kg': 'Уруксаттар керек'},
    'permissions_info': {'ru': 'Для работы приложения необходимы разрешения на:\n\n• Местоположение - для отправки SOS\n• Микрофон - для записи аудио\n\nБез этих разрешений приложение не сможет работать корректно.', 'kg': 'Тиркеменин иштеши үчүн уруксаттар керек:\n\n• Жайгашкан жер - SOS жөнөтүү үчүн\n• Микрофон - аудио жаздыруу үчүн\n\nБул уруксаттарсыз тиркеме туура иштебейт.'},
    'open_settings': {'ru': 'Открыть настройки', 'kg': 'Жөндөөлөрдү ачуу'},
    
    // Главная
    'home': {'ru': 'Главная', 'kg': 'Башкы'},
    
    // Telegram
    'telegram_how_it_works': {'ru': 'Как это работает:', 'kg': 'Бул кантип иштейт:'},
    'telegram_step_1': {'ru': 'Найдите бот @AlertMePremiumBot в Telegram', 'kg': 'Telegram\'дан @AlertMePremiumBot ботун табыңыз'},
    'telegram_step_2': {'ru': 'Нажмите /start', 'kg': '/start басыңыз'},
    'telegram_step_3': {'ru': 'Введите ваш username здесь', 'kg': 'Сиздин username\'ди бул жерге киргизиңиз'},
    'telegram_step_4': {'ru': 'SOS уведомления будут приходить в Telegram!', 'kg': 'SOS билдирмелер Telegram\'га келет!'},
  };
}